<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reporte Parte de Patrullas</title>
    <link rel="stylesheet" href="css/plantilla-estilos.css">
    <link rel="stylesheet" href="css/reportes-estilos.css">
    <link rel="stylesheet" href="css/global-formularios-estilos.css">
    <link rel="stylesheet" href="css/global-tablas.css">
    <link rel="stylesheet" href="css/form-servicio-estilos.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
    <link rel="icon" href="images/favico.svg" type="image/x-icon">
</head>

<body id="plantilla-aena">
    <!-- Encabezado -->
    <header class="header header-blue" id="header">
        <div class="header-container">
            <!-- Botón de alternar barra lateral -->
            <button id="toggle-sidebar" class="toggle-button" title="Abrir/Cerrar menú">
                <i class="fa fa-bars"></i>
            </button>

            <div class="header-left">
                <img src="images/aena.svg" alt="Logo AENA" class="header-logo">
                <div class="header-line-and-text">
                    <div class="separator"></div> <!-- Línea -->
                    <span id="header-text" class="header-text">Partes de servicio</span>
                </div>
            </div>
            <div class="language-dropdown">
                <button class="language-button" >
                    <i class="fa fa-comment"></i> ES <i class="fa fa-chevron-down"></i>
                </button>
                <div class="language-bar hidden" id="languageBar">
                    <a href="#" class="language-option selected">ESPAÑOL</a>
                    <a href="#" class="language-option">ENGLISH</a>
                    <a href="#" class="language-option">CATALÀ</a>
                    <a href="#" class="language-option">EUSKARA</a>
                    <a href="#" class="language-option">GALEGO</a>
                    <a href="#" class="language-option">VALENCIÀ</a>
                </div>
            </div>
        </div>
    </header>  

    <!-- Contenido principal -->
    <main class="main-content" >
        <!-- barra lateral -->
        <div class="index-sidebar">
            <div class="index-header">
                <h1 class="index-header-title">
                    <img src="images/airplane_animation.gif" alt="Logo AENA" class="header-logo"> FORMULARIOS 
                    <span class="index-header-subtitle">DE PARTES</span>
                </h1>
            </div>   
            <div class="menu">
                <!-- Menú desplegable -->
                <div class="submenu">
                    <a href="#" class="submenu-toggle">Administrar ▾</a>
                    <div class="submenu-content">
                        <a href="adm-usuarios.html">Adm. Usuarios</a>
                        <a href="adm-parte-servicio.html">Adm. Parte Servicios</a>
                        <a href="adm-parte-patrullas.html">Adm. Parte Patrullas</a>
                        <a href="adm-gestionar-planos.html">Gestionar Planos</a>
                    </div>
                </div>
                <a href="parte-servicio.html">Parte de Servicios</a>

                <!-- Menú desplegable -->
                <div class="submenu">
                    <a href="#" class="submenu-toggle">Parte de Patrullas ▾</a>
                    <div class="submenu-content">
                        <a href="patrullas-perimetro.html">Perímetro</a>
                        <a href="patrullas-otras-zonas.html">Otras Zonas</a>
                        <a href="patrullas-acreditaciones.html">Acreditaciones</a>
                        <a href="patrullas-control-indigentes.html">Control de Indigentes</a>
                        <a href="patrullas-alarmas-puertas.html">Alarmas y Puertas</a>
                    </div>
                </div>

                <a href="parte-equipos.html">Parte de Equipos</a>
                <a href="inspeccion-vehiculos.html">Inspección de Vehículos</a>
                <a href="inspeccion-suministros.html">Inspección de Suministros</a>
                <!-- Menú desplegable -->
                <div class="submenu">
                    <a href="#" class="submenu-toggle">Reportes ▾</a>
                    <div class="submenu-content">
                        <a href="reporte-parte-servicios.html">Reporte Parte Servicios</a>
                        <a href="reporte-incidencias.html">Reporte Incidencias</a>
                    </div>
                </div>
                <a href="#">Contáctanos</a>
                <a href="#" id="logout">Salir</a>
            </div>
        </div>


        <div class="index-content">


            <div class="form-container">
                <h1>Reporte Parte de Patrullas</h1>

                <!-- Filtros -->
                <div class="form-row">
                    <div class="form-group">
                        <label for="aeropuerto">Aeropuerto:</label>
                        <select id="aeropuerto" name="aeropuerto" required >
                            <option value="" disabled selected>Seleccione un Aeropuerto</option>
                            <option value="ABC - Albacete">ABC - Albacete</option>
                            <option value="ACE - Lanzarote">ACE - Lanzarote</option>
                            <option value="AEI - Algeciras">AEI - Algeciras</option>
                            <option value="AGP - Málaga-Costa del Sol">AGP - Málaga-Costa del Sol</option>
                            <option value="ALC - Alicante-Elche">ALC - Alicante-Elche</option>
                            <option value="BCN - Barcelona-El Prat">BCN - Barcelona-El Prat</option>
                            <option value="BIO - Bilbao">BIO - Bilbao</option>
                            <option value="BJZ - Badajoz">BJZ - Badajoz</option>
                            <option value="EAS - San Sebastián">EAS - San Sebastián</option>
                            <option value="FUE - Fuerteventura">FUE - Fuerteventura</option>
                            <option value="GMZ - La Gomera">GMZ - La Gomera</option>
                            <option value="GRO - Girona-Costa Brava">GRO - Girona-Costa Brava</option>
                            <option value="HSK - Huesca-Pirineos">HSK - Huesca-Pirineos</option>
                            <option value="IBZ - Ibiza">IBZ - Ibiza</option>
                            <option value="LCG - A Coruña">LCG - A Coruña</option>
                            <option value="LEI - Almería">LEI - Almería</option>
                            <option value="LEJ - León">LEJ - León</option>
                            <option value="LPA - Gran Canaria">LPA - Gran Canaria</option>
                            <option value="MAD - Madrid-Barajas">MAD - Madrid-Barajas</option>
                            <option value="MAH - Menorca">MAH - Menorca</option>
                            <option value="MLN - Melilla">MLN - Melilla</option>
                            <option value="ODB - Córdoba">ODB - Córdoba</option>
                            <option value="OVD - Asturias">OVD - Asturias</option>
                            <option value="PMI - Palma de Mallorca">PMI - Palma de Mallorca</option>
                            <option value="PNA - Pamplona">PNA - Pamplona</option>
                            <option value="REU - Reus">REU - Reus</option>
                            <option value="RGS - Burgos">RGS - Burgos</option>
                            <option value="RJL - Logroño-Agoncillo">RJL - Logroño-Agoncillo</option>
                            <option value="SCQ - Santiago de Compostela">SCQ - Santiago de Compostela</option>
                            <option value="SDR - Santander">SDR - Santander</option>
                            <option value="SLM - Salamanca">SLM - Salamanca</option>
                            <option value="SPC - La Palma">SPC - La Palma</option>
                            <option value="SVQ - Sevilla">SVQ - Sevilla</option>
                            <option value="TFN - Tenerife Norte">TFN - Tenerife Norte</option>
                            <option value="TFS - Tenerife Sur">TFS - Tenerife Sur</option>
                            <option value="VDE - El Hierro">VDE - El Hierro</option>
                            <option value="VGO - Vigo">VGO - Vigo</option>
                            <option value="VIT - Vitoria">VIT - Vitoria</option>
                            <option value="VLC - Valencia">VLC - Valencia</option>
                            <option value="VLL - Valladolid">VLL - Valladolid</option>
                            <option value="XRY - Jerez de la Frontera">XRY - Jerez de la Frontera</option>
                        </select> 
                    </div>

                    <div class="form-group">
                        <label for="nombre">Usuario:</label>
                        <input type="text" id="nombre-vigilante" name="nombre" placeholder="Indica tu nombre" required>
                    </div> 

                    <!-- Campo oculto para la Fecha de Registro (se sigue llamando 'fecha') -->
                    <input type="hidden" id="fecha" name="fecha">

                    <div class="form-group">
                        <label for="fechaSeleccionada">Seleccionar fecha:</label>
                        <input type="date" id="fechaSeleccionada" required>
                    </div>
                    <div class="form-group">
                        <label for="ronda">Ronda:</label>
                        <select id="ronda">
                        <option value="">Todas</option>
                        <!-- Opciones dinámicas -->
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="categoria">Categoría:</label>
                        <select id="categoria">
                        <option value="">Todas</option>
                        <!-- Opciones dinámicas -->
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="subcategoria">Subcategoría:</label>
                        <select id="subcategoria">
                        <option value="">Todas</option>
                        <!-- Opciones dinámicas -->
                        </select>
                    </div>
                </div>

                <!-- Pestañas -->
                <div class="tabs-container">
                <button class="tab-button active" data-tab="fichajes">Inspecciones de Fichaje</button>
                <button class="tab-button" data-tab="puertas">Inspecciones de Puertas</button>
                </div>


                <!-- Contenido Fichajes -->
                <div id="fichajes" class="tab-content active">
                <table id="tabla-fichajes">
                    <thead>
                    <tr>
                        <th>Punto</th>
                        <th>Estado</th>
                        <th>Observaciones</th>
                        <th>Ronda</th>
                    </tr>
                    </thead>
                    <tbody id="tabla-fichajes-body">
                    <!-- Filas dinámicas -->
                    </tbody>
                </table>
                <div class="export-buttons">
                    <button type="button" class="btn-export" onclick="exportarVistaFichajes()">
                        <i class="fas fa-file-excel"></i> Exportar Vista</button>
                    <button type="button" class="btn-export" onclick="exportarCompletoFichajes()">
                        <i class="fas fa-file-excel"></i> Exportar Completo
                    </button>
                    <button type="button" class="btn-export" onclick="exportarPdfFichajes()">
                        <i class="fas fa-file-pdf"></i> Exportar a PDF
                    </button>
                </div>
                </div>

                <!-- Contenido Puertas -->
                <div id="puertas" class="tab-content">
                <table id="tabla-puertas">
                    <thead>
                    <tr>
                        <th>Puerta</th>
                        <th>Estado Puerta</th>
                        <th>Estado Cerradura</th>
                        <th>Tipo Cerradura</th>
                        <th>Observaciones</th>
                        <th>Ronda</th>
                    </tr>
                    </thead>
                    <tbody id="tabla-puertas-body">
                    <!-- Filas dinámicas -->
                    </tbody>
                </table>
                <div class="export-buttons">
                    <button type="button" class="btn-export" onclick="exportarVistaPuertas()">
                        <i class="fas fa-file-excel"></i> Exportar Vista
                    </button>
                    <button type="button" class="btn-export" onclick="exportarCompletoPuertas()">
                        <i class="fas fa-file-excel"></i> Exportar Completo
                    </button>
                    <button type="button" class="btn-export" onclick="exportarPdfPuertas()">
                        <i class="fas fa-file-pdf"></i> Exportar a PDF
                    </button>
                </div>
                </div>

            </div>
        </div>



    </main>

    <!-- Pie de página -->
    <footer class="footer">
        <div class="footer-container">
            <!-- Redes sociales -->
            <div class="footer-social">
                <div class="social-box">
                    <p>Síguenos en:</p>
                    <div class="social-icons">
                        <div class="social-item">
                            <a href="https://twitter.com/aena" target="_blank" aria-label="Twitter">
                                <i class="fab fa-x-twitter"></i>
                            </a>
                        </div>
                        <div class="social-item">
                            <a href="http://www.facebook.com/Aena.es" target="_blank" aria-label="Facebook">
                                <i class="fab fa-facebook-f"></i>
                            </a>
                        </div>
                        <div class="social-item">
                            <a href="https://www.instagram.com/aena.es/" target="_blank" aria-label="Instagram">
                                <i class="fab fa-instagram"></i>
                            </a>
                        </div>
                        <div class="social-item">
                            <a href="https://www.linkedin.com/company/aena" target="_blank" aria-label="LinkedIn">
                                <i class="fab fa-linkedin-in"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>         
            <div class="footer-divider"></div> <!-- Línea divisoria -->
            <!-- Enlaces y copyright -->
            <div class="footer-links-copyright">
                <div class="footer-links">
                    <nav>
                        <ul>
                            <li><a href="#">Mapa Web</a></li>
                            <li><a href="#">Contacto</a></li>
                            <li><a href="#">Cookies</a></li>
                            <li><a href="#">Aviso Legal</a></li>
                            <li><a href="#">Política de Privacidad</a></li>
                            <li><a href="#">Accesibilidad</a></li>
                            <li><a href="#">Trámites y Reclamaciones</a></li>
                            <li><a href="#">Canal de Denuncias</a></li>
                        </ul>
                    </nav>
                </div>
                <div class="footer-copyright">
                    <p>Copyright © 2025 Aena</p>
                </div>
                <div class="scroll-progress" id="scrollProgress"></div> <!-- Línea verde dinámica -->
                <a href="#top" class="scroll-to-top">SUBIR</a>      
            </div>
        </div>
    </footer>

    <script src="js/utils/config-encabezado-pie.js"></script>
    <script src="js/utils/config-fecha-hora.js"></script>
    <script src="js/utils/config-api-url.js"></script>
    <script src="js/api/auth.js"></script> <!-- token y authentication-->
    <script src="js/api/api-reportes-parte-patrullas.js"></script> 

    <!-- XLSX para exportar a Excel -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <!-- jsPDF y AutoTable para PDF -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.25/jspdf.plugin.autotable.min.js"></script>

    <div id="notificacion-exportacion" class="notificacion-exportacion" style="display: none;">
        Archivo exportado correctamente
    </div>
    
</body>
</html>
